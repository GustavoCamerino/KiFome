{% extends 'base.html' %}
{% block content %}
  <h1>Seu carrinho</h1>
  <div>
    {% for it in items %}
      <div class="row">
        <div class="flex-1">
          <strong>{{ it.nome }}</strong> â€” R$ {{ '%.2f'|format(it.preco) }}
          <div>
            <button class="qtde" data-id="{{ it.prato_id }}" data-delta="-1">-</button>
            <span id="qtd-{{ it.prato_id }}">{{ it.quantidade }}</span>
            <button class="qtde" data-id="{{ it.prato_id }}" data-delta="1">+</button>
          </div>
        </div>
        <button class="remove" data-id="{{ it.prato_id }}">Remover</button>
      </div>
    {% else %}
      <p>Carrinho vazio.</p>
    {% endfor %}
  </div>
  <div class="totais">
    <div>Subtotal: R$ <span id="subtotal">{{ '%.2f'|format(subtotal) }}</span></div>
    <div>Taxa (3%): R$ <span id="taxa">{{ '%.2f'|format(taxa) }}</span></div>
    <div>Total: R$ <span id="total">{{ '%.2f'|format(total) }}</span></div>
  </div>
  <a class="btn" href="/checkout">Ir para checkout</a>
{% endblock %}

