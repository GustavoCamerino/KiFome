{% extends 'base.html' %}
{% load static %}
{% block content %}
<section class="hero">
  <div class="hero-inner">
    <h1>Peça comida deliciosa, rápido</h1>
    <p>Explore restaurantes perto de você e finalize em poucos cliques.</p>
    <div class="hero-actions">
      <form method="get" action="/" style="display:flex;gap:10px;flex:1;">
        <input id="filterRestaurants" name="q" class="hero-search" type="search" placeholder="Buscar por nome ou culinária..." aria-label="Buscar restaurantes" value="{{ q|default:'' }}" />
        <button class="btn secondary" type="submit">Pesquisar</button>
      </form>
    </div>
  </div>
  <svg class="hero-wave" viewBox="0 0 1440 80" preserveAspectRatio="none" aria-hidden="true"><path fill="#0b1220" d="M0,32L48,37.3C96,43,192,53,288,48C384,43,480,21,576,21.3C672,21,768,43,864,58.7C960,75,1056,85,1152,69.3C1248,53,1344,11,1392,-5.3L1440,-21.3V80H0Z"/></svg>
</section>

<h2 class="mt-3">Restaurantes</h2>
<div id="restaurantsGrid" class="cards mt-2">
  {% for r in restaurantes %}
  <a class="card" href="/restaurantes/{{ r.id_restaurante }}/" data-name="{{ r.nome|lower }}" data-cuisine="{{ r.tipo_culinaria|lower }}">
    <img class="img-restaurant" loading="lazy" alt="{{ r.nome }}"
         src="{% if r.foto %}{{ r.foto.url }}{% else %}{% static 'img/placeholder.svg' %}{% endif %}">
    <div class="badge">{{ r.tipo_culinaria|default:"Geral" }}</div>
    <h3>{{ r.nome }}</h3>
    <small>{{ r.endereco }}</small>
  </a>
  {% empty %}
  <p>Nenhum restaurante cadastrado.</p>
  {% endfor %}
  </div>
  <p id="noResults" class="mt-2" style="display:none;">Nenhum restaurante encontrado para sua busca.</p>
{% endblock %}
